<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" th:href="@{/css/bootstrap3.css}"/>
    <link rel="stylesheet" th:href="@{/css/coffee.css}"/>
    <title th:text="#{makeOrder}"></title>
</head>
<body>
<div class="container-fluid">





    <div class="row head ">
        <div class="col-lg-2">
            <img src="https://static.tildacdn.com/tild6239-6363-4632-a132-383030356534/logo110.png" class="logo " imgfield="img" alt="ПЕРСПЕКТИВА.кофе">
        </div>
        <div class="col-lg-8 margin">
            <ul class=" nav nav-pills nav-justified ">

                <li class="active" id="main"><a th:text="#{main}"  href="main"></a></li>
                <li><a href="makeOrder" th:text="#{makeOrder}"></a></li>
                <li><a href="main#" id="reg" th:text="#{toRegister}" ></a></li>
                <li><a href="orderList#" id="login" th:text="#{personalArea}" ></a></li>
                <li><a href="logout" th:text="#{logout}" ></a></li>
                <li ><div class="btn-group">
                    <button type="button" class="btn btn-default dropdown-toggle" th:text="#{language}" data-toggle="dropdown"> <span class="caret"></span></button>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="makeOrder?language=en_US">EN</a> </li>

                        <li><a href="makeOrder?language=ru_RU">RU</a></li>


                    </ul>
                </div>
                </li>
            </ul>
        </div>

        <div class="col-lg-2 margintext">
            <p class="text-center" th:text="#{welcome}+' '+${user.username}" >  <p id="user" style="display: none" th:text="${user.username}" ></p></p>
        </div>

    </div><!-- /.row -->
    <div class="row content">
        <div class="col-lg-2">

        </div>
        <div class="col-lg-8"  >






            <form action="makeOrder"   class="form-group form " method="post" th:object="${order}" >

                <div class="input-group input-group-lg col-lg-4 col-lg-offset-4">
                    <span class="input-group-addon" th:text="#{yourname}"></span>
                    <input type="text" th:field="*{username}"   class="form-control username " th:placeholder="#{yourname}"/><br>
                    <p th:if="${#fields.hasErrors('username')}" class="col-lg-4 col-lg-offset-4" th:errors="*{username}" style="color: red"/>
                </div>

                <div class="input-group input-group-lg col-lg-4 col-lg-offset-4">
                    <span class="input-group-addon" th:text="#{youradress}"> </span>
                    <input type="text" th:field="*{adress}"  class="form-control adress "  th:placeholder="#{youradress}"/>
                    <br>
                    <p th:if="${#fields.hasErrors('adress')}" class="col-lg-4 col-lg-offset-4" th:errors="*{adress}" style="color: red"/>
                </div>

                <table class="table table-striped table-bordered table-hover">

                    <th class="success col-lg-1">
                        <h4 class="text-center"></h4>
                    </th>
                    <th class="info col-lg-6">
                        <h4 class="text-center" th:text="#{titleCoffee}"></h4>
                    </th>
                    <th class="danger col-lg-1">
                        <h4 class="text-center" th:text="#{amountCoffee}"></h4>
                    </th>
                    <th class="danger col-lg-1">
                        <h4 class="text-center" th:text="#{price}"></h4>
                    </th>
                    <th class="danger col-lg-1">
                        <h4 class="text-center" th:text="#{totalPrice}"></h4>
                    </th>

                    <div  th:each="coffees:${coffees}">
                        <tr class="info">
                            <td ><h4 class="text-center"><input type="checkbox"  th:coffeeId="${coffees.id}"></h4> </td>
                            <td><h4 class="text-center" th:text="${coffees.title}"></h4></td>
                            <td><h4 class="text-center "><input name="amount" disabled type="number"  th:id="${coffees.id}" value="0" ></h4></td>


                            <td><h4 class="text-center" th:text="${coffees.price}" th:id="${'price'+coffees.id}" ></h4></td>
                            <td><h4 class="text-center " th:id="${'totalPrice'+coffees.id}" >0</h4></td>
                            <td style="display: none"><input type="hidden" th:id="${'coffeeId'+coffees.id}"  name="" th:value="${coffees.id}" ></td>
                        </tr>
                    </div>

                </table>

                <div class="input-group input-group-lg col-lg-4 col-lg-offset-4">

                    <button id="but"  type="submit" class="form-control btn btn-primary " placeholder="Username">Заказать</button>

                </div>

            </form>


<!--            <%&#45;&#45;            <button id="makeOrder" onclick="done()" class="btn btn-success col-lg-2 col-lg-offset-5 ">Заказать</button>&#45;&#45;%>-->

        </div>
    </div>

    <div class="row foot">
        <div class="col-lg-2" style="padding-top:20px">
            <p class="text-white">
            <p th:text="#{about}"> <br>
            <p th:text="#{adress}">
            </p>
        </div>

        <div class="col-lg-2 col-lg-offset-3" style="padding-top:20px">
            <p>
                zaharzim@yandex.by <br>
                +375295107806
            </p>
        </div>

        <div class="col-lg-2 col-lg-offset-3" style="padding-top:20px">
            <p>
            <p th:text="#{timeWork}"> <br>
            <p th:text="#{workHours}">
            </p>
        </div>
    </div>

<!--    <div style="display:none">-->
<!--        <p class="springMessage"><spring:message code="yourname"></spring:message></p>-->
<!--        <p class="springMessage"><spring:message code="youradress"></spring:message></p>-->

<!--    </div>-->

</div>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<script type="text/javascript" th:src="@{/js/orderScript.js}"></script>

</body>
</html>